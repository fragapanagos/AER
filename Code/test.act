// Defines processes used in testing
import "lib/globals.act";

// a simple active handshaker
export
defproc active_handshaker(globals g; bool i, o) {
    prs {
        ~g.sReset & ~i -> o+
        g.pReset  | i  -> o-
    }
}

// a simple passive handshaker
export
defproc passive_handshaker(globals g; bool i, o) {
    bool _o;
    prs {
        ~g.sReset & i  -> _o-
        g.pReset  | ~i -> _o+

        _o => o- 
    }
}

export
defproc TEST_TEST(globals g) {
    // tests active and passive handshakers
    active_handshaker a(g,,);
    passive_handshaker p(g,,);
    
    a.i = p.o;
    a.o = p.i;
}
